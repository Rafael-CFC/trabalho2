const translations = {
    'pt': {
        'page_title': 'O Mundo do Futebol',
        'nav_history': 'HistÃ³ria do Futebolâš½',
        'nav_messi': 'Lionel MessiðŸ‘½',
        'nav_ronaldo': 'Cristiano RonaldoðŸ¤–',
        'nav_neymar': 'Neymarâœ‹ðŸ½ðŸ˜œðŸ¤šðŸ½',
        'nav_yamal': 'Lamine Yamal ðŸ’¯',
        'history_heading': 'HistÃ³ria do Futebolâš½',
        'history_text': 'O futebol tem suas raÃ­zes em jogos de bola praticados em diversas culturas ao longo da histÃ³ria, mas o formato moderno comeÃ§ou a se consolidar na Inglaterra no sÃ©culo XIX, com a criaÃ§Ã£o das primeiras regras. Em 1863, foi fundada a Football Association, que padronizou as regras do jogo. Desde entÃ£o, o futebol se espalhou pelo mundo, tornando-se o esporte mais popular e unindo milhÃµes de pessoas em torno de competiÃ§Ãµes como a Copa do Mundo.',
        'messi_heading': 'Lionel MessiðŸ‘½',
        'messi_text': 'Lionel Messi, nascido em 24 de junho de 1987, Ã© frequentemente chamado de o maior jogador de todos os tempos. Sua carreira lendÃ¡ria no FC Barcelona redefiniu recordes, onde conquistou dezenas de tÃ­tulos e um recorde de oito prÃªmios Ballon d\'Or. Conhecido por seu centro de gravidade baixo, controle de bola sobrenatural e uma capacidade de finalizaÃ§Ã£o letal, Messi combina visÃ£o de jogo com uma aceleraÃ§Ã£o estonteante. ApÃ³s uma passagem pelo Paris Saint-Germain, ele agora encanta o pÃºblico nos Estados Unidos jogando pelo Inter Miami. O Ã¡pice de sua carreira veio em 2022, quando liderou a Argentina na conquista da Copa do Mundo, cimentando seu status como uma lenda imortal do esporte.',
        'ronaldo_heading': 'Cristiano RonaldoðŸ¤–',
        'ronaldo_text': 'Cristiano Ronaldo, nascido em 5 de fevereiro de 1985, Ã© a personificaÃ§Ã£o da excelÃªncia atlÃ©tica e da determinaÃ§Ã£o. Um atacante completo, ele Ã© famoso por sua velocidade explosiva, fÃ­sico imponente, pulo fenomenal e uma finalizaÃ§Ã£o implacÃ¡vel com ambos os pÃ©s. Sua carreira Ã© marcada por sucesso em grandes clubes como Manchester United, Real Madrid, e Juventus, onde acumulou cinco prÃªmios Ballon d\'Or e inÃºmeros trofÃ©us, incluindo cinco Ligas dos CampeÃµes. Ãcone da seleÃ§Ã£o portuguesa, liderou seu paÃ­s na conquista da Eurocopa de 2016. Atualmente jogando pelo Al-Nassr na ArÃ¡bia Saudita, Ronaldo continua a quebrar recordes de gols, provando que sua dedicaÃ§Ã£o ao ofÃ­cio Ã© incomparÃ¡vel.',
        'neymar_heading': 'Neymarâœ‹ðŸ½ðŸ˜œðŸ¤šðŸ½',
        'neymar_text': 'Neymar Jr., nascido em 5 de fevereiro de 1992, Ã© um dos talentos mais elÃ©tricos e criativos do futebol moderno. Famoso por seu "Joga Bonito", seu estilo Ã© uma mistura de dribles desconcertantes, truques ousados e uma agilidade incrÃ­vel. Ele explodiu no cenÃ¡rio mundial no Santos FC antes de formar um trio de ataque histÃ³rico no Barcelona ao lado de Messi e SuÃ¡rez. Sua transferÃªncia recorde para o Paris Saint-Germain o tornou o jogador mais caro da histÃ³ria. Apesar de uma carreira marcada por momentos de genialidade e algumas lesÃµes, Neymar Ã© o maior artilheiro da histÃ³ria da seleÃ§Ã£o brasileira, um verdadeiro artista com a bola nos pÃ©s que atualmente joga pelo Al Hilal.',
        'yamal_heading': 'Lamine Yamal ðŸ’¯',
        'yamal_text': 'Lamine Yamal, nascido em 2007, representa o futuro vibrante do futebol. Um produto da famosa academia La Masia do FC Barcelona, ele quebrou recordes como o jogador mais jovem a estrear e a marcar um gol pelo clube e pela seleÃ§Ã£o espanhola. Com uma maturidade e confianÃ§a que desmentem sua idade, Yamal exibe uma habilidade de drible de elite, velocidade e uma coragem para enfrentar defensores experientes. Sua ascensÃ£o meteÃ³rica na temporada 2023-2024 o estabeleceu nÃ£o apenas como uma promessa, mas como uma realidade no time principal do Barcelona e uma peÃ§a chave para a Espanha, gerando imensa expectativa sobre o potencial de uma carreira lendÃ¡ria.'
    },
    'en': {
        'page_title': 'The World of Football',
        'nav_history': 'History of Footballâš½',
        'nav_messi': 'Lionel MessiðŸ‘½',
        'nav_ronaldo': 'Cristiano RonaldoðŸ¤–',
        'nav_neymar': 'Neymarâœ‹ðŸ½ðŸ˜œðŸ¤šðŸ½',
        'nav_yamal': 'Lamine Yamal ðŸ’¯',
        'history_heading': 'History of Footballâš½',
        'history_text': 'Football has its roots in ball games played in various cultures throughout history, but the modern format began to consolidate in England in the 19th century with the creation of the first rules. In 1863, the Football Association was founded, standardizing the rules of the game. Since then, football has spread worldwide, becoming the most popular sport and uniting millions of people around competitions like the World Cup.',
        'messi_heading': 'Lionel MessiðŸ‘½',
        'messi_text': 'Lionel Messi, born on June 24, 1987, is often called the greatest player of all time. His legendary career at FC Barcelona redefined records, where he won dozens of titles and a record eight Ballon d\'Or awards. Known for his low center of gravity, supernatural ball control, and lethal finishing ability, Messi combines game vision with astonishing acceleration. After a stint at Paris Saint-Germain, he now delights audiences in the United States playing for Inter Miami. The pinnacle of his career came in 2022 when he led Argentina to victory in the World Cup, cementing his status as an immortal legend of the sport.',
        'ronaldo_heading': 'Cristiano RonaldoðŸ¤–',
        'ronaldo_text': 'Cristiano Ronaldo, born on February 5, 1985, is the personification of athletic excellence and determination. A complete forward, he is famous for his explosive speed, imposing physique, phenomenal leap, and relentless finishing with both feet. His career is marked by success at major clubs like Manchester United, Real Madrid, and Juventus, where he has amassed five Ballon d\'Or awards and numerous trophies, including five Champions Leagues. An icon for the Portuguese national team, he led his country to victory in the 2016 European Championship. Currently playing for Al-Nassr in Saudi Arabia, Ronaldo continues to break goal-scoring records, proving that his dedication to his craft is unparalleled.',
        'neymar_heading': 'Neymarâœ‹ðŸ½ðŸ˜œðŸ¤šðŸ½',
        'neymar_text': 'Neymar Jr., born on February 5, 1992, is one of the most electric and creative talents in modern football. Famous for his "Joga Bonito," his style is a mix of baffling dribbles, audacious tricks, and incredible agility. He burst onto the world scene at Santos FC before forming a historic attacking trio at Barcelona alongside Messi and SuÃ¡rez. His record-breaking transfer to Paris Saint-Germain made him the most expensive player in history. Despite a career marked by moments of genius and some injuries, Neymar is the all-time top scorer for the Brazilian national team, a true artist with the ball at his feet who currently plays for Al Hilal.',
        'yamal_heading': 'Lamine Yamal ðŸ’¯',
        'yamal_text': 'Lamine Yamal, born in 2007, represents the vibrant future of football. A product of FC Barcelona\'s famous La Masia academy, he broke records as the youngest player to debut and score for both the club and the Spanish national team. With a maturity and confidence that belie his age, Yamal displays elite dribbling ability, speed, and a fearlessness to take on experienced defenders. His meteoric rise in the 2023-2024 season has established him not just as a promise, but as a reality in Barcelona\'s first team and a key player for Spain, generating immense expectation about the potential of a legendary career.'
    },
    'es': {
        'page_title': 'El Mundo del FÃºtbol',
        'nav_history': 'Historia del FÃºtbolâš½',
        'nav_messi': 'Lionel MessiðŸ‘½',
        'nav_ronaldo': 'Cristiano RonaldoðŸ¤–',
        'nav_neymar': 'Neymarâœ‹ðŸ½ðŸ˜œðŸ¤šðŸ½',
        'nav_yamal': 'Lamine Yamal ðŸ’¯',
        'history_heading': 'Historia del FÃºtbolâš½',
        'history_text': 'El fÃºtbol tiene sus raÃ­ces en juegos de pelota practicados en diversas culturas a lo largo de la historia, pero el formato moderno comenzÃ³ a consolidarse en Inglaterra en el siglo XIX con la creaciÃ³n de las primeras reglas. En 1863, se fundÃ³ la Football Association, que estandarizÃ³ las reglas del juego. Desde entonces, el fÃºtbol se ha extendido por todo el mundo, convirtiÃ©ndose en el deporte mÃ¡s popular y uniendo a millones de personas en torno a competiciones como la Copa del Mundo.',
        'messi_heading': 'Lionel MessiðŸ‘½',
        'messi_text': 'Lionel Messi, nacido el 24 de junio de 1987, es frecuentemente llamado el mejor jugador de todos los tiempos. Su legendaria carrera en el FC Barcelona redefiniÃ³ rÃ©cords, donde ganÃ³ docenas de tÃ­tulos y un rÃ©cord de ocho premios BalÃ³n de Oro. Conocido por su bajo centro de gravedad, control sobrenatural del balÃ³n y una letal capacidad de finalizaciÃ³n, Messi combina visiÃ³n de juego con una aceleraciÃ³n asombrosa. Tras un perÃ­odo en el Paris Saint-Germain, ahora deleita al pÃºblico en Estados Unidos jugando para el Inter Miami. La cima de su carrera llegÃ³ en 2022, cuando liderÃ³ a Argentina hacia la victoria en la Copa del Mundo, cimentando su estatus como una leyenda inmortal del deporte.',
        'ronaldo_heading': 'Cristiano RonaldoðŸ¤–',
        'ronaldo_text': 'Cristiano Ronaldo, nacido el 5 de febrero de 1985, es la personificaciÃ³n de la excelencia atlÃ©tica y la determinaciÃ³n. Un delantero completo, es famoso por su velocidad explosiva, fÃ­sico imponente, salto fenomenal y una finalizaciÃ³n implacable con ambos pies. Su carrera estÃ¡ marcada por el Ã©xito en grandes clubes como el Manchester United, Real Madrid y Juventus, donde ha acumulado cinco premios BalÃ³n de Oro y numerosos trofeos, incluidas cinco Ligas de Campeones. Icono de la selecciÃ³n portuguesa, liderÃ³ a su paÃ­s a la victoria en la Eurocopa de 2016. Actualmente jugando para el Al-Nassr en Arabia Saudita, Ronaldo continÃºa rompiendo rÃ©cords de goles, demostrando que su dedicaciÃ³n a su oficio es inigualable.',
        'neymar_heading': 'Neymarâœ‹ðŸ½ðŸ˜œðŸ¤šðŸ½',
        'neymar_text': 'Neymar Jr., nacido el 5 de febrero de 1992, es uno de los talentos mÃ¡s elÃ©ctricos y creativos del fÃºtbol moderno. Famoso por su "Joga Bonito", su estilo es una mezcla de regates desconcertantes, trucos audaces y una agilidad increÃ­ble. ExplotÃ³ en la escena mundial en el Santos FC antes de formar un histÃ³rico trÃ­o de ataque en el Barcelona junto a Messi y SuÃ¡rez. Su traspaso rÃ©cord al Paris Saint-Germain lo convirtiÃ³ en el jugador mÃ¡s caro de la historia. A pesar de una carrera marcada por momentos de genialidad y algunas lesiones, Neymar es el mÃ¡ximo goleador de la historia de la selecciÃ³n brasileÃ±a, un verdadero artista con el balÃ³n en los pies que actualmente juega en el Al Hilal.',
        'yamal_heading': 'Lamine Yamal ðŸ’¯',
        'yamal_text': 'Lamine Yamal, nacido en 2007, representa el futuro vibrante del fÃºtbol. Un producto de la famosa academia La Masia del FC Barcelona, rompiÃ³ rÃ©cords como el jugador mÃ¡s joven en debutar y marcar un gol tanto para el club como para la selecciÃ³n espaÃ±ola. Con una madurez y confianza que contradicen su edad, Yamal muestra una habilidad de Ã©lite para el regate, velocidad y una valentÃ­a para enfrentarse a defensores experimentados. Su ascenso meteÃ³rico en la temporada 2023-2024 lo ha establecido no solo como una promesa, sino como una realidad en el primer equipo del Barcelona y una pieza clave para EspaÃ±a, generando una inmensa expectaciÃ³n sobre el potencial de una carrera legendaria.'
    }
};

function setLanguage(lang) {
    localStorage.setItem('preferredLanguage', lang);
    document.querySelectorAll('[data-key]').forEach(element => {
        const key = element.getAttribute('data-key');
        if (translations[lang] && translations[lang][key]) {
            element.innerText = translations[lang][key];
        }
    });
    document.querySelectorAll('.language-switcher a').forEach(link => {
        link.classList.toggle('active', link.getAttribute('data-lang') === lang);
    });
}

function initAnimations() {
    const sections = document.querySelectorAll('.box');
    const navLinks = document.querySelectorAll('.menu a');

    if (!('IntersectionObserver' in window)) {
        sections.forEach(section => section.classList.add('visible'));
        return;
    }

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
            const id = entry.target.getAttribute('id');
            const correspondingLink = document.querySelector(`.menu a[href="#${id}"]`);
            if (entry.isIntersecting && entry.intersectionRatio >= 0.5) {
                navLinks.forEach(link => link.classList.remove('active-link'));
                correspondingLink.classList.add('active-link');
            }
        });
    }, { 
        threshold: [0.1, 0.5]
    });

    sections.forEach(section => observer.observe(section));
}

document.addEventListener('DOMContentLoaded', () => {
    const languageSwitcher = document.querySelector('.language-switcher');
    languageSwitcher.addEventListener('click', (event) => {
        event.preventDefault();
        const targetLink = event.target.closest('a');
        if (targetLink) {
            const lang = targetLink.getAttribute('data-lang');
            setLanguage(lang);
        }
    });

    const savedLanguage = localStorage.getItem('preferredLanguage') || 'pt';
    setLanguage(savedLanguage);

    initAnimations();
});
