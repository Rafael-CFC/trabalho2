const translations = {
    'pt': {
        'page_title': 'O Mundo do Futebol',
        'nav_history': 'História do Futebol⚽',
        'nav_messi': 'Lionel Messi👽',
        'nav_ronaldo': 'Cristiano Ronaldo🤖',
        'nav_neymar': 'Neymar✋🏽😜🤚🏽',
        'nav_yamal': 'Lamine Yamal 💯',
        'history_heading': 'História do Futebol⚽',
        'history_text': 'O futebol tem suas raízes em jogos de bola praticados em diversas culturas ao longo da história, mas o formato moderno começou a se consolidar na Inglaterra no século XIX, com a criação das primeiras regras. Em 1863, foi fundada a Football Association, que padronizou as regras do jogo. Desde então, o futebol se espalhou pelo mundo, tornando-se o esporte mais popular e unindo milhões de pessoas em torno de competições como a Copa do Mundo.',
        'messi_heading': 'Lionel Messi👽',
        'messi_text': 'Lionel Messi, nascido em 24 de junho de 1987, é frequentemente chamado de o maior jogador de todos os tempos. Sua carreira lendária no FC Barcelona redefiniu recordes, onde conquistou dezenas de títulos e um recorde de oito prêmios Ballon d\'Or. Conhecido por seu centro de gravidade baixo, controle de bola sobrenatural e uma capacidade de finalização letal, Messi combina visão de jogo com uma aceleração estonteante. Após uma passagem pelo Paris Saint-Germain, ele agora encanta o público nos Estados Unidos jogando pelo Inter Miami. O ápice de sua carreira veio em 2022, quando liderou a Argentina na conquista da Copa do Mundo, cimentando seu status como uma lenda imortal do esporte.',
        'ronaldo_heading': 'Cristiano Ronaldo🤖',
        'ronaldo_text': 'Cristiano Ronaldo, nascido em 5 de fevereiro de 1985, é a personificação da excelência atlética e da determinação. Um atacante completo, ele é famoso por sua velocidade explosiva, físico imponente, pulo fenomenal e uma finalização implacável com ambos os pés. Sua carreira é marcada por sucesso em grandes clubes como Manchester United, Real Madrid, e Juventus, onde acumulou cinco prêmios Ballon d\'Or e inúmeros troféus, incluindo cinco Ligas dos Campeões. Ícone da seleção portuguesa, liderou seu país na conquista da Eurocopa de 2016. Atualmente jogando pelo Al-Nassr na Arábia Saudita, Ronaldo continua a quebrar recordes de gols, provando que sua dedicação ao ofício é incomparável.',
        'neymar_heading': 'Neymar✋🏽😜🤚🏽',
        'neymar_text': 'Neymar Jr., nascido em 5 de fevereiro de 1992, é um dos talentos mais elétricos e criativos do futebol moderno. Famoso por seu "Joga Bonito", seu estilo é uma mistura de dribles desconcertantes, truques ousados e uma agilidade incrível. Ele explodiu no cenário mundial no Santos FC antes de formar um trio de ataque histórico no Barcelona ao lado de Messi e Suárez. Sua transferência recorde para o Paris Saint-Germain o tornou o jogador mais caro da história. Apesar de uma carreira marcada por momentos de genialidade e algumas lesões, Neymar é o maior artilheiro da história da seleção brasileira, um verdadeiro artista com a bola nos pés que atualmente joga pelo Al Hilal.',
        'yamal_heading': 'Lamine Yamal 💯',
        'yamal_text': 'Lamine Yamal, nascido em 2007, representa o futuro vibrante do futebol. Um produto da famosa academia La Masia do FC Barcelona, ele quebrou recordes como o jogador mais jovem a estrear e a marcar um gol pelo clube e pela seleção espanhola. Com uma maturidade e confiança que desmentem sua idade, Yamal exibe uma habilidade de drible de elite, velocidade e uma coragem para enfrentar defensores experientes. Sua ascensão meteórica na temporada 2023-2024 o estabeleceu não apenas como uma promessa, mas como uma realidade no time principal do Barcelona e uma peça chave para a Espanha, gerando imensa expectativa sobre o potencial de uma carreira lendária.'
    },
    'en': {
        'page_title': 'The World of Football',
        'nav_history': 'History of Football⚽',
        'nav_messi': 'Lionel Messi👽',
        'nav_ronaldo': 'Cristiano Ronaldo🤖',
        'nav_neymar': 'Neymar✋🏽😜🤚🏽',
        'nav_yamal': 'Lamine Yamal 💯',
        'history_heading': 'History of Football⚽',
        'history_text': 'Football has its roots in ball games played in various cultures throughout history, but the modern format began to consolidate in England in the 19th century with the creation of the first rules. In 1863, the Football Association was founded, standardizing the rules of the game. Since then, football has spread worldwide, becoming the most popular sport and uniting millions of people around competitions like the World Cup.',
        'messi_heading': 'Lionel Messi👽',
        'messi_text': 'Lionel Messi, born on June 24, 1987, is often called the greatest player of all time. His legendary career at FC Barcelona redefined records, where he won dozens of titles and a record eight Ballon d\'Or awards. Known for his low center of gravity, supernatural ball control, and lethal finishing ability, Messi combines game vision with astonishing acceleration. After a stint at Paris Saint-Germain, he now delights audiences in the United States playing for Inter Miami. The pinnacle of his career came in 2022 when he led Argentina to victory in the World Cup, cementing his status as an immortal legend of the sport.',
        'ronaldo_heading': 'Cristiano Ronaldo🤖',
        'ronaldo_text': 'Cristiano Ronaldo, born on February 5, 1985, is the personification of athletic excellence and determination. A complete forward, he is famous for his explosive speed, imposing physique, phenomenal leap, and relentless finishing with both feet. His career is marked by success at major clubs like Manchester United, Real Madrid, and Juventus, where he has amassed five Ballon d\'Or awards and numerous trophies, including five Champions Leagues. An icon for the Portuguese national team, he led his country to victory in the 2016 European Championship. Currently playing for Al-Nassr in Saudi Arabia, Ronaldo continues to break goal-scoring records, proving that his dedication to his craft is unparalleled.',
        'neymar_heading': 'Neymar✋🏽😜🤚🏽',
        'neymar_text': 'Neymar Jr., born on February 5, 1992, is one of the most electric and creative talents in modern football. Famous for his "Joga Bonito," his style is a mix of baffling dribbles, audacious tricks, and incredible agility. He burst onto the world scene at Santos FC before forming a historic attacking trio at Barcelona alongside Messi and Suárez. His record-breaking transfer to Paris Saint-Germain made him the most expensive player in history. Despite a career marked by moments of genius and some injuries, Neymar is the all-time top scorer for the Brazilian national team, a true artist with the ball at his feet who currently plays for Al Hilal.',
        'yamal_heading': 'Lamine Yamal 💯',
        'yamal_text': 'Lamine Yamal, born in 2007, represents the vibrant future of football. A product of FC Barcelona\'s famous La Masia academy, he broke records as the youngest player to debut and score for both the club and the Spanish national team. With a maturity and confidence that belie his age, Yamal displays elite dribbling ability, speed, and a fearlessness to take on experienced defenders. His meteoric rise in the 2023-2024 season has established him not just as a promise, but as a reality in Barcelona\'s first team and a key player for Spain, generating immense expectation about the potential of a legendary career.'
    },
    'es': {
        'page_title': 'El Mundo del Fútbol',
        'nav_history': 'Historia del Fútbol⚽',
        'nav_messi': 'Lionel Messi👽',
        'nav_ronaldo': 'Cristiano Ronaldo🤖',
        'nav_neymar': 'Neymar✋🏽😜🤚🏽',
        'nav_yamal': 'Lamine Yamal 💯',
        'history_heading': 'Historia del Fútbol⚽',
        'history_text': 'El fútbol tiene sus raíces en juegos de pelota practicados en diversas culturas a lo largo de la historia, pero el formato moderno comenzó a consolidarse en Inglaterra en el siglo XIX con la creación de las primeras reglas. En 1863, se fundó la Football Association, que estandarizó las reglas del juego. Desde entonces, el fútbol se ha extendido por todo el mundo, convirtiéndose en el deporte más popular y uniendo a millones de personas en torno a competiciones como la Copa del Mundo.',
        'messi_heading': 'Lionel Messi👽',
        'messi_text': 'Lionel Messi, nacido el 24 de junio de 1987, es frecuentemente llamado el mejor jugador de todos los tiempos. Su legendaria carrera en el FC Barcelona redefinió récords, donde ganó docenas de títulos y un récord de ocho premios Balón de Oro. Conocido por su bajo centro de gravedad, control sobrenatural del balón y una letal capacidad de finalización, Messi combina visión de juego con una aceleración asombrosa. Tras un período en el Paris Saint-Germain, ahora deleita al público en Estados Unidos jugando para el Inter Miami. La cima de su carrera llegó en 2022, cuando lideró a Argentina hacia la victoria en la Copa del Mundo, cimentando su estatus como una leyenda inmortal del deporte.',
        'ronaldo_heading': 'Cristiano Ronaldo🤖',
        'ronaldo_text': 'Cristiano Ronaldo, nacido el 5 de febrero de 1985, es la personificación de la excelencia atlética y la determinación. Un delantero completo, es famoso por su velocidad explosiva, físico imponente, salto fenomenal y una finalización implacable con ambos pies. Su carrera está marcada por el éxito en grandes clubes como el Manchester United, Real Madrid y Juventus, donde ha acumulado cinco premios Balón de Oro y numerosos trofeos, incluidas cinco Ligas de Campeones. Icono de la selección portuguesa, lideró a su país a la victoria en la Eurocopa de 2016. Actualmente jugando para el Al-Nassr en Arabia Saudita, Ronaldo continúa rompiendo récords de goles, demostrando que su dedicación a su oficio es inigualable.',
        'neymar_heading': 'Neymar✋🏽😜🤚🏽',
        'neymar_text': 'Neymar Jr., nacido el 5 de febrero de 1992, es uno de los talentos más eléctricos y creativos del fútbol moderno. Famoso por su "Joga Bonito", su estilo es una mezcla de regates desconcertantes, trucos audaces y una agilidad increíble. Explotó en la escena mundial en el Santos FC antes de formar un histórico trío de ataque en el Barcelona junto a Messi y Suárez. Su traspaso récord al Paris Saint-Germain lo convirtió en el jugador más caro de la historia. A pesar de una carrera marcada por momentos de genialidad y algunas lesiones, Neymar es el máximo goleador de la historia de la selección brasileña, un verdadero artista con el balón en los pies que actualmente juega en el Al Hilal.',
        'yamal_heading': 'Lamine Yamal 💯',
        'yamal_text': 'Lamine Yamal, nacido en 2007, representa el futuro vibrante del fútbol. Un producto de la famosa academia La Masia del FC Barcelona, rompió récords como el jugador más joven en debutar y marcar un gol tanto para el club como para la selección española. Con una madurez y confianza que contradicen su edad, Yamal muestra una habilidad de élite para el regate, velocidad y una valentía para enfrentarse a defensores experimentados. Su ascenso meteórico en la temporada 2023-2024 lo ha establecido no solo como una promesa, sino como una realidad en el primer equipo del Barcelona y una pieza clave para España, generando una inmensa expectación sobre el potencial de una carrera legendaria.'
    }
};

function setLanguage(lang) {
    localStorage.setItem('preferredLanguage', lang);
    document.querySelectorAll('[data-key]').forEach(element => {
        const key = element.getAttribute('data-key');
        if (translations[lang] && translations[lang][key]) {
            element.innerText = translations[lang][key];
        }
    });
    document.querySelectorAll('.language-switcher a').forEach(link => {
        link.classList.toggle('active', link.getAttribute('data-lang') === lang);
    });
}

function initAnimations() {
    const sections = document.querySelectorAll('.box');
    const navLinks = document.querySelectorAll('.menu a');

    if (!('IntersectionObserver' in window)) {
        sections.forEach(section => section.classList.add('visible'));
        return;
    }

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
            const id = entry.target.getAttribute('id');
            const correspondingLink = document.querySelector(`.menu a[href="#${id}"]`);
            if (entry.isIntersecting && entry.intersectionRatio >= 0.5) {
                navLinks.forEach(link => link.classList.remove('active-link'));
                correspondingLink.classList.add('active-link');
            }
        });
    }, { 
        threshold: [0.1, 0.5]
    });

    sections.forEach(section => observer.observe(section));
}

document.addEventListener('DOMContentLoaded', () => {
    const languageSwitcher = document.querySelector('.language-switcher');
    languageSwitcher.addEventListener('click', (event) => {
        event.preventDefault();
        const targetLink = event.target.closest('a');
        if (targetLink) {
            const lang = targetLink.getAttribute('data-lang');
            setLanguage(lang);
        }
    });

    const savedLanguage = localStorage.getItem('preferredLanguage') || 'pt';
    setLanguage(savedLanguage);

    initAnimations();
});
