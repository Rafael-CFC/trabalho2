const translations = {
    'pt': {
        'page_title': 'O Mundo do Futebol',
        'nav_history': 'História do Futebol⚽',
        'nav_messi': 'Lionel Messi👽',
        'nav_ronaldo': 'Cristiano Ronaldo🤖',
        'nav_neymar': 'Neymar✋🏽😜🤚🏽',
        'nav_yamal': 'Lamine Yamal 💯',
        'history_heading': 'História do Futebol⚽',
        'history_text': 'O futebol tem suas raízes em jogos de bola praticados em diversas culturas ao longo da história, mas o formato moderno começou a se consolidar na Inglaterra no século XIX, com a criação das primeiras regras. Em 1863, foi fundada a Football Association, que padronizou as regras do jogo. Desde então, o futebol se espalhou pelo mundo, tornando-se o esporte mais popular e unindo milhões de pessoas em torno de competições como a Copa do Mundo.',
        'messi_heading': 'Lionel Messi👽',
        'messi_text': 'Lionel Messi, nascido em 24 de junho de 1987 em Rosario, Argentina, é amplamente considerado um dos maiores jogadores de futebol de todos os tempos. Iniciou sua carreira profissional no FC Barcelona, onde jogou de 2004 a 2021, conquistando inúmeros títulos, incluindo várias Ligas dos Campeões e prêmios individuais, como o Ballon d\'Or. Em 2021, Messi se transferiu para o Paris Saint-Germain (PSG) e, em 2022, levou a seleção argentina à vitória na Copa do Mundo, solidificando ainda mais seu legado no esporte.',
        'ronaldo_heading': 'Cristiano Ronaldo🤖',
        'ronaldo_text': 'Cristiano Ronaldo, nascido em 5 de fevereiro de 1985 em Portugal, é um dos maiores jogadores de futebol da história. Ele se destacou no Manchester United, Real Madrid e Juventus, acumulando diversos títulos e prêmios, incluindo múltiplos Ballon d\'Or. Além de seu sucesso em clubes, é ícone da seleção portuguesa, com a qual conquistou a Eurocopa em 2016.',
        'neymar_heading': 'Neymar✋🏽😜🤚🏽',
        'neymar_text': 'Neymar Jr. é um jogador de futebol brasileiro, amplamente considerado um dos melhores do mundo. Nascido em 5 de fevereiro de 1992, em Mogi das Cruzes, ele começou sua carreira profissional no Santos FC, onde ganhou destaque internacional. Em 2013, transferiu-se para o Barcelona, conquistando diversos títulos, incluindo a Liga dos Campeões. Atualmente, joga pelo Paris Saint-Germain e pela seleção brasileira, sendo conhecido por sua habilidade técnica e estilo de jogo explosivo.',
        'yamal_heading': 'Lamine Yamal 💯',
        'yamal_text': 'Lamine Yamal é um jovem jogador de futebol espanhol, nascido em 2007, que se destacou nas categorias de base do FC Barcelona. Ele é conhecido por sua habilidade técnica, velocidade e capacidade de drible, o que o torna uma promessa no cenário do futebol europeu e pra muitos, uma realidade já. Yamal fez sua estreia profissional pelo Barcelona em 2023, tornando-se um dos jogadores mais jovens a atuar na equipe principal. Sua ascensão rápida e talento notável têm gerado grande expectativa sobre seu futuro no esporte.'
    },
    'en': {
        'page_title': 'The World of Football',
        'nav_history': 'History of Football⚽',
        'nav_messi': 'Lionel Messi👽',
        'nav_ronaldo': 'Cristiano Ronaldo🤖',
        'nav_neymar': 'Neymar✋🏽😜🤚🏽',
        'nav_yamal': 'Lamine Yamal 💯',
        'history_heading': 'History of Football⚽',
        'history_text': 'Football has its roots in ball games played in various cultures throughout history, but the modern format began to consolidate in England in the 19th century with the creation of the first rules. In 1863, the Football Association was founded, standardizing the rules of the game. Since then, football has spread worldwide, becoming the most popular sport and uniting millions of people around competitions like the World Cup.',
        'messi_heading': 'Lionel Messi👽',
        'messi_text': 'Lionel Messi, born on June 24, 1987, in Rosario, Argentina, is widely considered one of the greatest football players of all time. He began his professional career at FC Barcelona, where he played from 2004 to 2021, winning numerous titles, including several Champions Leagues and individual awards like the Ballon d\'Or. In 2021, Messi transferred to Paris Saint-Germain (PSG), and in 2022, he led the Argentine national team to victory in the World Cup, further solidifying his legacy in the sport.',
        'ronaldo_heading': 'Cristiano Ronaldo🤖',
        'ronaldo_text': 'Cristiano Ronaldo, born on February 5, 1985, in Portugal, is one of the greatest football players in history. He excelled at Manchester United, Real Madrid, and Juventus, accumulating various titles and awards, including multiple Ballon d\'Or. In addition to his club success, he is an icon of the Portuguese national team, with which he won the Euro 2016.',
        'neymar_heading': 'Neymar✋🏽😜🤚🏽',
        'neymar_text': 'Neymar Jr. is a Brazilian football player, widely considered one of the best in the world. Born on February 5, 1992, in Mogi das Cruzes, he began his professional career at Santos FC, where he gained international prominence. In 2013, he transferred to Barcelona, winning several titles, including the Champions League. Currently, he plays for Paris Saint-Germain and the Brazilian national team, known for his technical skill and explosive playing style.',
        'yamal_heading': 'Lamine Yamal 💯',
        'yamal_text': 'Lamine Yamal is a young Spanish football player, born in 2007, who has stood out in FC Barcelona\'s youth categories. He is known for his technical skill, speed, and dribbling ability, which makes him a promise in the European football scene and, for many, already a reality. Yamal made his professional debut for Barcelona in 2023, becoming one of the youngest players to play for the first team. His rapid rise and remarkable talent have generated great expectation about his future in the sport.'
    },
    'es': {
        'page_title': 'El Mundo del Fútbol',
        'nav_history': 'Historia del Fútbol⚽',
        'nav_messi': 'Lionel Messi👽',
        'nav_ronaldo': 'Cristiano Ronaldo🤖',
        'nav_neymar': 'Neymar✋🏽😜🤚🏽',
        'nav_yamal': 'Lamine Yamal 💯',
        'history_heading': 'Historia del Fútbol⚽',
        'history_text': 'El fútbol tiene sus raíces en juegos de pelota practicados en diversas culturas a lo largo de la historia, pero el formato moderno comenzó a consolidarse en Inglaterra en el siglo XIX con la creación de las primeras reglas. En 1863, se fundó la Football Association, que estandarizó las reglas del juego. Desde entonces, el fútbol se ha extendido por todo el mundo, convirtiéndose en el deporte más popular y uniendo a millones de personas en torno a competiciones como la Copa del Mundo.',
        'messi_heading': 'Lionel Messi👽',
        'messi_text': 'Lionel Messi, nacido el 24 de junio de 1987 en Rosario, Argentina, es ampliamente considerado uno de los mejores jugadores de fútbol de todos los tiempos. Inició su carrera profesional en el FC Barcelona, donde jugó de 2004 a 2021, ganando numerosos títulos, incluyendo varias Ligas de Campeones y premios individuales como el Balón de Oro. En 2021, Messi se trasladó al Paris Saint-Germain (PSG) y, en 2022, llevó a la selección argentina a la victoria en la Copa del Mundo, solidificando aún más su legado en el deporte.',
        'ronaldo_heading': 'Cristiano Ronaldo🤖',
        'ronaldo_text': 'Cristiano Ronaldo, nacido el 5 de febrero de 1985 en Portugal, es uno de los mejores jugadores de fútbol de la historia. Se destacó en el Manchester United, Real Madrid y Juventus, acumulando diversos títulos y premios, incluyendo múltiples Balones de Oro. Además de su éxito en clubes, es un ícono de la selección portuguesa, con la cual conquistó la Eurocopa en 2016.',
        'neymar_heading': 'Neymar✋🏽😜🤚🏽',
        'neymar_text': 'Neymar Jr. es un jugador de fútbol brasileño, ampliamente considerado uno de los mejores del mundo. Nacido el 5 de febrero de 1992 en Mogi das Cruzes, comenzó su carrera profesional en el Santos FC, donde ganó prominencia internacional. En 2013, se trasladó al Barcelona, ganando varios títulos, incluida la Liga de Campeones. Actualmente, juega para el Paris Saint-Germain y la selección brasileña, conocido por su habilidad técnica y estilo de juego explosivo.',
        'yamal_heading': 'Lamine Yamal 💯',
        'yamal_text': 'Lamine Yamal es un joven jugador de fútbol español, nacido en 2007, que ha destacado en las categorías inferiores del FC Barcelona. Es conocido por su habilidad técnica, velocidad y capacidad de regate, lo que lo convierte en una promesa en el panorama del fútbol europeo y para muchos, ya una realidad. Yamal hizo su debut profesional con el Barcelona en 2023, convirtiéndose en uno de los jugadores más jóvenes en jugar en el primer equipo. Su rápido ascenso y notable talento han generado una gran expectativa sobre su futuro en el deporte.'
    }
};

function setLanguage(lang) {
    localStorage.setItem('preferredLanguage', lang);
    document.querySelectorAll('[data-key]').forEach(element => {
        const key = element.getAttribute('data-key');
        if (translations[lang] && translations[lang][key]) {
            element.innerText = translations[lang][key];
        }
    });
    document.querySelectorAll('.language-switcher a').forEach(link => {
        link.classList.toggle('active', link.getAttribute('data-lang') === lang);
    });
}

function initAnimations() {
    const sections = document.querySelectorAll('.box');
    const navLinks = document.querySelectorAll('.menu a');

    if (!('IntersectionObserver' in window)) {
        sections.forEach(section => section.classList.add('visible'));
        return;
    }

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
            const id = entry.target.getAttribute('id');
            const correspondingLink = document.querySelector(`.menu a[href="#${id}"]`);
            if (entry.isIntersecting && entry.intersectionRatio >= 0.5) {
                navLinks.forEach(link => link.classList.remove('active-link'));
                correspondingLink.classList.add('active-link');
            }
        });
    }, { 
        threshold: [0.1, 0.5]
    });

    sections.forEach(section => observer.observe(section));
}

document.addEventListener('DOMContentLoaded', () => {
    const languageSwitcher = document.querySelector('.language-switcher');
    languageSwitcher.addEventListener('click', (event) => {
        event.preventDefault();
        const targetLink = event.target.closest('a');
        if (targetLink) {
            const lang = targetLink.getAttribute('data-lang');
            setLanguage(lang);
        }
    });

    const savedLanguage = localStorage.getItem('preferredLanguage') || 'pt';
    setLanguage(savedLanguage);

    initAnimations();
});